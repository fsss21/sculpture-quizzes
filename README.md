# Sculpture Quizzes
**0.07с Кабинет скульптора - викторины**
**Кабинет скульптора** — интерактивное приложение с викторинами о скульптуре.

Две викторины:
- **Узнай инструмент по описанию** — вопросы о скульптурных инструментах (по типу «какой инструмент нужен для этой задачи»).
- **Угадай скульптора по произведению** — вопросы по изображениям и названиям произведений.

Приложение может работать только с фронтендом (данные из JSON) или с бэкендом: редактирование викторин и сбор статистики ответов.

---

## Технологии

- **React 18** + **Vite 5**
- **CSS Modules** (стили компонентов)
- **Axios** (запросы к API и загрузка данных)
- **Express** (сервер для админки и статистики)
- Шрифты: **Anticva** (локально), **Raleway** (Google Fonts)

---

## Структура проекта

```
sculpture-quizzes/
├── public/
│   ├── data/
│   │   ├── tools-quiz.json       # Викторина «Инструменты»
│   │   ├── sculptors-quiz.json   # Викторина «Скульпторы»
│   │   └── sounds-config.json   # Конфигурация звуков
│   ├── fonts/
│   │   └── Anticva-Regular.otf  # Шрифт Anticva
│   ├── images/
│   │   ├── tools/               # Изображения инструментов
│   │   └── sculptures/          # Изображения скульптур
│   └── sounds/                  # Звуковые файлы (см. раздел ниже)
├── server/
│   ├── index.js                 # Express-сервер (API викторин и статистики)
│   └── utils/
│       └── serverSetup.js      # Настройка путей и запуска
├── src/
│   ├── components/
│   │   ├── MainMenu.jsx         # Главное меню выбора викторины
│   │   ├── StartScreen.jsx      # Стартовый экран викторины
│   │   ├── QuizScreen.jsx        # Экран с вопросами и ответами
│   │   ├── ResultScreen.jsx     # Экран результатов
│   │   ├── AdminPage.jsx         # Админ-панель (вкладки)
│   │   ├── AdminQuizEditor.jsx   # Редактор вопросов викторины
│   │   └── AdminStatistics.jsx  # Статистика ответов
│   ├── hooks/
│   │   └── useSound.js          # Фоновый звук и воспроизведение кликов
│   ├── utils/
│   │   └── api.js               # Настройка axios (baseURL, таймаут)
│   ├── assets/                  # Фоновые изображения экранов
│   ├── App.jsx
│   ├── App.module.css
│   ├── index.css                # Глобальные стили, @font-face Anticva
│   └── main.jsx
├── index.html
├── vite.config.js               # Прокси /api → localhost:3001
└── package.json
```

---

## Установка

```bash
npm install
```

---

## Запуск

### Только фронтенд (без сервера)

```bash
npm run dev
```

Приложение откроется по адресу **http://localhost:5173**.  
Данные викторин подгружаются из `public/data/*.json`. Редактирование и статистика недоступны.

### Фронтенд + сервер (админка и статистика)

1. В одном терминале запустите сервер (порт 3001):
   ```bash
   node server/index.js
   ```
2. В другом терминале запустите приложение:
   ```bash
   npm run dev
   ```
3. В браузере: **http://localhost:5173**. Запросы на `/api` проксируются на сервер.

**Админ-панель:**  
- Переход: **http://localhost:5173/admin** или горячие клавиши **Ctrl+Shift+A**.  
- Вкладки: редактирование викторин «Инструменты» и «Скульпторы», просмотр статистики ответов.

---

## Сборка и дистрибутив

| Команда | Описание |
|--------|----------|
| `npm run build` | Сборка фронтенда в папку `build/` |
| `npm run preview` | Локальный просмотр собранной версии |
| `npm run build:server:win` | Сборка exe-сервера для Windows (pkg) |
| `npm run build:server:mac` | Сборка бинарника сервера для macOS |
| `npm run build:win` | Сборка фронтенда + exe для Windows |
| `npm run build:mac` | Сборка фронтенда + бинарник для macOS |

После `npm run build` статику из `build/` нужно раздавать вместе с сервером (или отдельно, если используете только JSON).

---

## API (сервер)

Сервер читает/пишет викторины из `public/data/` (или из папки рядом с бинарником при запуске exe).

| Метод | Путь | Описание |
|-------|------|----------|
| GET | `/api/quiz/tools` | Викторина «Инструменты» |
| GET | `/api/quiz/sculptors` | Викторина «Скульпторы» |
| PUT | `/api/quiz/:type` | Обновить викторину целиком |
| POST | `/api/quiz/:type/question` | Добавить вопрос |
| PUT | `/api/quiz/:type/question/:id` | Обновить вопрос |
| DELETE | `/api/quiz/:type/question/:id` | Удалить вопрос |
| POST | `/api/statistics` | Отправить ответ (используется в QuizScreen) |
| GET | `/api/statistics` | Получить статистику по ответам |

Дополнительно в сервере есть CRUD для «материалов» (`/api/materials`) — при необходимости можно описать отдельно.

---

## Звуки

Положите в `public/sounds/`:

| Файл | Назначение |
|------|------------|
| `menu-click.mp3` | Клик по кнопкам меню |
| `success.mp3` | Правильный ответ |
| `error.mp3` | Неправильный ответ |
| `ambient-music.mp3` | Фоновая музыка |
| `workshop-ambient.mp3` | Фон «мастерская» |

Если файлов нет, приложение работает без звука (ошибки загрузки игнорируются).

---

## Изображения

- **Инструменты:** `public/images/tools/` (в т.ч. `place_holder_img.png` при отсутствии картинки у ответа).
- **Скульптуры:** `public/images/sculptures/` (аналогично).

Пути к картинкам задаются в JSON викторин (например, `/images/tools/...`). При ошибке загрузки изображение скрывается или подставляется плейсхолдер.

---

## Особенности

- Две викторины с разными форматами вопросов (задача / произведение + изображение).
- Прогресс-бар, объяснения и блок «Историческая справка» после ответа.
- Три уровня результата: плохо (красный), средний (жёлтый), отлично/хорошо (зелёный).
- Звук: фон и клики (можно отключить, если добавить переключатель в UI).
- Адаптивная вёрстка, шрифты Anticva и Raleway.
- Админка: добавление/редактирование/удаление вопросов, просмотр статистики по ответам.
- Работа без сервера: только статика и JSON из `public/data/`.
